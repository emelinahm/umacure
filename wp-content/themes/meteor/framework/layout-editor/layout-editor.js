(function(e){function Q(){var e;Ut();for(e in LAYOUT_DATA){e=LAYOUT_DATA[e],e.length>0&&e[0].length>0&&typeof e[0][0].slots=="number"||Kt(LAYOUT_DATA);break}for(e in LAYOUT_DATA)P||(P=e),e==P?(v.append(M.layoutTab.render({layout:e,active:!0})),Y(e)):v.append(M.layoutTab.render({layout:e}));var t={};for(e in LAYOUT_DATA)t[sanitizer.escape(sanitizer.unescapeEntities(e))]=LAYOUT_DATA[e];LAYOUT_DATA=t}function G(){var t=null,n=window.location+"",r=n.lastIndexOf("#");return r>0&&(t=e.trim(n.slice(r+1))),t}function Y(e){typeof o[e]=="undefined"&&(o[e]={});if(i){var t=A.find("> .container").detach();LAYOUTS[i]=t}i=e,Ut(),wpCookies.set(z,e,2592e3,userSettings.url);if(e in LAYOUTS)A.append(LAYOUTS[e]),delete LAYOUTS[e];else{var n=LAYOUT_DATA[e];for(var r,s=n.length,u=0;u<s;u++)r=Z(u,n[u]),A.append(r)}}function Z(n,r){typeof n=="undefined"&&(n=0);var i,s=e(M.container.render({index:n}));if(typeof r=="undefined")i=et(t,s,0),r=[i.data("related")],s.append(i);else for(var o,u=r.length,a=0;a<u;a++)o=r[a],i=et(o.slots,s,a),tt(i,o.component),s.append(i);return s.append(X.clear),s.data("related",r),s.get(0).__self=s,s.sortable(V),s}function et(t,n,r){typeof r=="undefined"&&(r=0);var i,s;i={slots:t,component:null};if(typeof t!="number")throw new Error("Invalid data type for columns argument");return s=e(M.slot.render({index:r,klass:zt(t)})),s.data("related",i),s.data("container",n),s.get(0).__self=s,s.droppable(J),s}function tt(t,n){if(n&&typeof n=="object"){n.generator||(n.generator=n.title);var r=e(M.component.render(n));n.options.length===0&&r.addClass("no-options"),r.data("related",n),r.get(0).__self=r,nt(t,r),r.find(".inner").draggable($)}}function nt(e,t){var n=t.data("related");n.limit&&(n.shortcode in o[i]?o[i][n.shortcode]++:o[i][n.shortcode]=1),e.data("component",t),e.data("related").component=t.data("related"),t.data("slot",e),e.addClass("has-component").append(t)}function rt(e,t){var n=t.data("related");n.limit&&o[i][n.shortcode]--,e.data("component",null),e.data("related").component=null,t.data("slot",null),e.removeClass("has-component"),t.detach()}function it(e,t){g.appendTo(H),rt(e,t),t.remove(),H.trigger("mouseenter")}function st(e,t,n){t.data("related").slots>=n.data("related").requires&&(rt(e,n),nt(t,n),t.append(n),H=t,n.find(".inner"))}function ot(e,t){var n=e.data("component"),r=t.data("component"),i=t.data("related").slots>=n.data("related").requires,s=e.data("related").slots>=r.data("related").requires;i&&s&&(rt(e,n),rt(t,r),nt(e,r),nt(t,n))}function ut(){A.find("> .container").each(function(e,t){var n=t.__self;n.attr("data-index",e).data("index",e)})}function at(e){typeof e=="undefined"&&(e=H.data("container"));var t=[];e.find(".slot").each(function(e,n){var r=n.__self;r.attr("data-index",e).data("index",e),t.push(r.data("related"))}),e.data("related",t)}function ft(e){var t=Z();if(typeof e=="string")switch(e){case"head":A.prepend(t);break;case"tail":A.append(t);break;default:throw new Error("VALUE_NOT_RECOGNIZED")}else{var n=H.data("container").data("index");A.find("> .container").eq(n).after(t)}ut()}function lt(e){Dt(),e.remove()}function ct(e,n){var r=e.find(".slot:eq("+n+")"),i=e.data("related"),s=r.data("related");for(var o=i.length,u=0,a=0;a<o;a++)u+=i[a].slots;var f=zt(s.slots);s.slots+=t-u;var l=zt(s.slots);r.removeClass(f).addClass(l)}function ht(e){var t=H.data("container"),n=t.data("related"),r;typeof e=="undefined"&&(e=H.data("index"));if(n.length===1){if(e!==0)throw new Error("Removing index other than zero");lt(t)}else Dt(),e===0?(t.find(".slot:first").remove(),r=0):e===n.length-1?(t.find(".slot:last").remove(),r=e-1):(t.find(".slot:eq("+e+")").remove(),r=e),at(t),ct(t,r),t.find(".slot:eq("+r+")").trigger("mouseenter")}function pt(e){Dt();var t=H.data("container"),n=t.data("related"),r=H.data("index"),i=[],s=et(B[0],t),o=et(B[1],t);for(var u=n.length,a=0;a<u;a++)a==r?i=i.concat([s.data("related"),o.data("related")]):i.push(n[a]);t.data("related",i),H.replaceWith(s.add(o)),at(t),e.preventDefault()}function dt(n){var r=H.data("container"),i=this.__self||(this.__self=e(this)),s=et(t/3,r),o=et(t/3,r),u=et(t/3,r);Dt(),r.append(s).append(o).append(u),r.find(".slot:first").remove(),at(r),n.preventDefault()}function vt(e){if(e in LAYOUT_DATA)alert("Layout already exists");else{L.show(),LAYOUT_DATA[e]=[[{slots:t}]];var n=M.layoutTab.render({layout:e,active:!0});v.find("li.active").removeClass("active"),v.append(n),Y(e),Ut()}}function mt(t){var n=e(this).parent(),r=n.find("a").text();if(confirm(K.confirmRemove.replace(/%s/g,r))){E.detach(),delete LAYOUT_DATA[r],delete LAYOUTS[r],delete o[r];if(i==r){i=null,A.find("> .container").remove(),n.remove();var s=v.find("li:first a");s.length?s.trigger("click"):L.hide()}else v.find('li[data-layout="'+r+'"]').remove();Ut()}t.preventDefault()}function gt(e,t){var n=e.data("related"),r=zt(n.slots),i=n.slots+t,s=zt(i);e.removeClass(r).addClass(s),e.data("related").slots=i}function yt(n){var r=this.__self||(this.__self=e(this)),i=r.data("context"),s=i=="left"?b:resizeRight,o=y[i];gt(H,1),gt(o,-1),o.data("related").slots===t/4&&s.hide(),Ct(),!H.hasClass("has-component")&&H.data("related").slots>t/4&&H.trigger("mouseenter"),n.preventDefault()}function bt(){b.click(yt),resizeRight.click(yt),f.find(".options-bar a.reset-layout").click(function(e){confirm("ALL Layout data will be REMOVED. Proceed ?")&&(window.LAYOUT_DATA=[],window.LAYOUTS=[],A.find("> .container").remove(),E.detach(),v.find("> li").remove(),L.hide()),e.preventDefault()}),f.find(".options-bar input:submit.save-layout").click(function(e){if(F)return;Yt(),e.preventDefault()}),n.delegate("#sections ul.sections-list > li a","click",function(t){if(F)return;U&&xt(),R&&Tt();var n=this.__self||(this.__self=e(this)),r=n.parent(),i=n.html();r.hasClass("active")||(r.addClass("active").siblings().removeClass("active"),Y(i),t.preventDefault())}),c.delegate("form input","keyup",function(e){e.keyCode==13&&(c.find("form a.btn.save-component").trigger("click"),e.preventDefault())}),c.find(".head strong.title").click(function(){var t=prompt("New Title");if(t){var n=H.data("component"),r=n.data("related"),i=this.__self||(this.__self=e(this));r.generator||(r.generator=r.title,n.find(".inner .desc").text(r.generator),e(this).siblings("span.desc").text(r.generator)),r.title=t,e(this).text(t)}}),p.find("> li").click(function(t){var n=e(this).data("context"),r=JSON.parse(LAYOUT_COMPONENTS[n]);r.shortcode=n,tt(H,r),xt(),Tt(),t.preventDefault()}),h.find("a.cancel").click(function(e){xt(),e.preventDefault()}),g.find("a.btn-icon.add-comp").click(function(e){xt(),e.preventDefault()}),c.find(".foot .cancel, .head .cancel").click(function(e){Tt(),r.trigger("gi:unlock"),e.preventDefault()}),c.find(".foot .save-component, .head .save-component").click(function(e){Tt(!0),e.preventDefault()}),n.delegate("#workspace .container .slot .component .actions .edit","click",function(e){Tt(),e.preventDefault()}),n.delegate("#workspace .container .slot .component .actions .remove","click",function(e){var t=H.data("component");it(H,t),e.preventDefault()}),g.find("a.btn-icon.remove").click(function(e){var t=H.data("related").slots;if(typeof t!="number")throw new Error("Invalid slot data detected");return typeof W[t]=="undefined"?confirm(K.confirmSlotRemove)&&lt(H.data("container")):ht(),e.preventDefault()}),f.find(".bar .btn-icon.split-action").click(function(t){if(F||R||U)return;var n=this.__self||(this.__self=e(this)),r=n.data("location");ft(r),t.preventDefault()}),m.find("a.edit").click(Bt),m.find("a.add").click(It),m.find("a.copy").click(jt),x.click(pt),N.click(Ht),T.click(dt),C.add(k).click(function(n){var r=this.__self||(this.__self=e(this)),i=r.data("incr"),s=B[0]+i,o=B[1]-i;s>=t/4&&o>=t/4&&(B=[s,o],At(),x.html(B.join(" / "))),n.preventDefault()}),v.delegate("li span.edit","click",function(t){var n=this.__li||(this.__li=e(this).parents("li"));E.data("rename-target",n.find("a")),l.hide(),A.hide(),Bt(t,!0),E.data("text").val(n.find("a").html()),n.append(E.show()),E.data("text").focus(),F=!0,t.preventDefault()}),v.delegate("li span.remove","click",mt),E.data("text",E.find("input:text")),E.data("cancel",E.find("input.cancel")),E.data("submit",E.find("input.activate")),E.show=function(){return j=this.data("cancel"),Rt(),this.constructor.prototype.show.apply(this,arguments)},E.hide=function(){return j=null,Rt(),this.constructor.prototype.hide.apply(this,arguments)},E.data("text").change(function(e){E.data("submit").trigger("click"),e.preventDefault()}),E.data("submit").click(function(e){var t=E.data("rename-target"),n=t.html(),r=E.find("input:text").val();r=Ft(sanitizer.escape(sanitizer.unescapeEntities(r)));if(r in LAYOUT_DATA)return;r!=n&&(n==i&&(i=r),t.html(r),t.parent().attr("data-layout",r).data("layout",r),LAYOUT_DATA[r]=LAYOUT_DATA[n],delete LAYOUT_DATA[n],n in LAYOUTS&&(LAYOUTS[r]=LAYOUTS[n],delete LAYOUTS[n]),Ut(),E.data("cancel").trigger("click")),e.preventDefault()}),E.data("cancel").click(function(t){var n=this.__self||(this.__self=e(this));F=!1,l.show(),A.show(),E.hide(),Bt(t),t.preventDefault()})}function wt(){n.delegate("#workspace .container .slot .component","mouseenter mouseleave",function(e){if(q)return;e.type=="mouseenter"&&(H=this.__self.data("slot"))}),n.delegate("#workspace .container .slot","mouseenter mouseleave",function(n){if(q)return;var r=this.__self||(this.__self=e(this));H=r;if(r.hasClass("sixteen columns"))switch(n.type){case"mouseenter":B=[t/2,t/2],Ot();break;case"mouseleave":Dt()}else switch(n.type){case"mouseenter":Pt(),B?Ot():kt();break;case"mouseleave":Dt()}})}function Et(){var e,n,r=LAYOUT_COMPONENTS;for(n in r)e=r[n],s[n]=e,p.append(M.componentItem.render({comp_id:n,title:e.title,description:e.description,full_width:e.requires===t,special:e.requires>t/4&&e.requires<t,columns:e.requires})),LAYOUT_COMPONENTS[n]=JSON.stringify(e)}function St(){var e,t,n;for(n in LAYOUT_COMPONENTS)t=h.find("li[data-context="+n+"]"),e=n in o[i]&&o[i][n]>=s[n].limit,e||H.data("related").slots<s[n].requires?t.hide():t.show()}function xt(){U?(h.hide(),A.show(),U=!1,j=null):(St(),A.hide(),h.show(),U=!0,j=h.find(".foot .cancel")),Rt()}function Tt(e,t){var n=H.data("component"),r=n.data("related");if(r.options.length===0){Yt();return}if(R){if(e){a.serialize(r);if(t){Yt();return}}n.find(".inner .title").text(r.title),a.reset(),c.hide(),A.show(),R=!1,j=null}else A.hide(),a.render(r),c.show(),R=!0,j=c.find(".foot .cancel");Rt()}function Nt(){var e=f.find("#top-bar .btn, #bottom-bar .btn");A.show=function(){return O.show(),m.show(),e.show(),this.constructor.prototype.show.apply(this,arguments)},A.hide=function(){return O.hide(),m.hide(),e.hide(),this.constructor.prototype.hide.apply(this,arguments)},D.show=function(){return this.css("visibility","visible"),this},D.hide=function(){return this.css("visibility","hidden"),this},A.sortable({axis:"y",cancel:":input, a, p, .component .inner, .slot-buttons",cursor:"auto",delay:100,distance:1,items:"> .container",placeholder:"container while-dragging",tolerance:"pointer",containment:A,start:function(){q=!0},stop:function(){q=!1,ut()}}),v.sortable({axis:"y",cancel:"a.btn-icon, input",cursor:"auto",delay:100,distance:1,items:"> li",tolerance:"pointer",containment:v}),c.find("> form").submit(function(e){e.preventDefault()})}function Ct(){var e,n,r,i,s,o={},u=H.data("related"),a=H.data("container").find(".slot");a.length>1?(e=H.data("index"),e===0?(i=null,s=a.eq(1)):e===a.length-1?(i=a.eq(e-1),s=null):(i=a.eq(e-1),s=a.eq(e+1)),i?(n=i.data("related").slots,n>t/4?i.hasClass("has-component")?(r=i.data("component").data("related"),n-1>=r.requires?o.left=i:o.left=null):o.left=i:o.left=null):o.left=null,s?(n=s.data("related").slots,n>t/4?s.hasClass("has-component")?(r=s.data("component").data("related"),n-1>=r.requires?o.right=s:o.right=null):o.right=s:o.right=null):o.right=null):o.left=o.right=null,o.left?b.show():b.hide(),o.right?resizeRight.show():resizeRight.hide(),y=o}function kt(){Ct(),g.show(),H.hasClass("has-component")?g.appendTo(H.data("component").find(".inner")):g.appendTo(H)}function Lt(){x.html(B.join(" / ")),At(),S.appendTo(H).show()}function At(){C.css("visibility",B[0]<=t/4?"hidden":"visible"),k.css("visibility",B[1]<=t/4?"hidden":"visible")}function Ot(){kt(),H.hasClass("has-component")||Lt()}function Mt(){g.detach()}function _t(){S.detach(),k.add(C).show()}function Dt(){Mt(),_t()}function Pt(){var e,n,r,i;e=H.data("related").slots,e>=t/2?e%2===0?(i=e/2,B=[i,i]):(n=Math.floor(e/2),r=e-n,B=[n,r]):B=null}function Ht(e){ft(),e.preventDefault()}function Bt(e){if(F)return;v.hasClass("edit-mode")?v.removeClass("edit-mode"):v.addClass("edit-mode"),e.preventDefault()}function jt(e){if(!i)return;var t=i;It(e,"Duplicate Layout Name (Copy of "+i+")"),i!=t&&Yt(e,t,function(e){e&&(window.location=window.location+"")}),e.preventDefault()}function Ft(t){return t=e.trim(t.replace(/[,><'"]+/g,"").replace(/\s+/g," ")),/^\d+$/.test(t)&&(t=" "+t),t}function It(e,t){var n=prompt(t||"Layout Name");n&&(n=Ft(n),vt(n)),e.preventDefault()}function qt(e){e.keyCode==27&&j&&j.trigger("click")}function Rt(){j?u.keyup(qt):u.unbind("keyup",qt)}function Ut(){var t,n=[];for(t in LAYOUT_DATA){if(i&&t==i)continue;n.push({title:t,value:e.base64.encode(unescape(encodeURIComponent(t)))})}WP_CUSTOM_DATA.layouts=JSON.stringify(n)}function zt(e){return"span"+e}function Wt(e,t){var n=[];for(var r=e.length,i=0;i<r;i++)t!==i&&n.push(e[i]);return n}function Xt(e,t,n){var r=[];for(var i=e.length,s=0;s<i;s++)r.push(e[s]),s===t&&(n instanceof Array?r=r.concat(n):r.push(n));return r}function Vt(e){R?Tt(!0,!0):Yt(e),e&&e.preventDefault()}function Jt(e,t){var n={};for(var r,i=e.length,s=0;s<i;s++){r=e[s];switch(r.type){case"icon":case"text":case"textarea":n[r.id]=r.value;break;case"radio":for(var o,u=r.values.length,a=0;a<u;a++){o=r.values[a];if(o.checked){n[r.id]=o.value;break}}break;case"select":for(var o,u=r.values.length,a=0;a<u;a++){o=r.values[a];if(o.selected){n[r.id]=o.value;break}}typeof n[r.id]=="undefined"&&u>0&&(n[r.id]=r.values[0].value);break;case"checkbox":var f=[];for(var o,u=r.values.length,a=0;a<u;a++)o=r.values[a],o.checked&&f.push(o.value);n[r.id]=f}}return n}function Kt(e){for(var t in e)for(var n,r=e[t].length,i=0;i<r;i++){n=e[t][i];for(var s,o,u,a,f=n.length,l=0;l<f;l++){a=n[l],n[l]=s={slots:a.s,component:null};if(a.c){u=a.c,o=s.component=JSON.parse(LAYOUT_COMPONENTS[u.s]),o.shortcode=u.s,o.generator=o.title,o.title=u.t||o.title;for(var c,h,p=o.options.length,d=0;d<p;d++){c=o.options[d],h=u.o[c.id];switch(c.type){case"custom_select":c.type="select",c.values=WP_CUSTOM_DATA[c.context]?JSON.parse(WP_CUSTOM_DATA[c.context]):[];for(var v,m=null,g=c.values.length,y=0;y<g;y++){v=c.values[y];if(typeof h!="undefined"&&v.value==h){v.selected=!0,m=y;break}}if(typeof m=="number")for(y=0;y<g;y++)v=c.values[y],y!=m&&delete v.selected;break;case"custom_checkbox":c.type="checkbox",c.values=WP_CUSTOM_DATA[c.context]?JSON.parse(WP_CUSTOM_DATA[c.context]):[];if(h&&h instanceof Array)for(var v,g=c.values.length,y=0;y<g;y++)v=c.values[y],h.indexOf(v.value)>=0&&(v.checked=!0);break;case"taxonomy_select":c.type="select",c.values=JSON.parse(WP_TAXONOMY_DATA[c.taxonomy]);for(var v,m=null,g=c.values.length,y=0;y<g;y++){v=c.values[y];if(typeof h!="undefined"&&v.value==h){v.selected=!0,m=y;break}}if(typeof m=="number")for(y=0;y<g;y++)v=c.values[y],y!=m&&delete v.selected;break;case"taxonomy_checkbox":c.type="checkbox",c.values=JSON.parse(WP_TAXONOMY_DATA[c.taxonomy]);if(h&&h instanceof Array)for(var v,g=c.values.length,y=0;y<g;y++)v=c.values[y],h.indexOf(v.value)>=0&&(v.checked=!0);break;case"icon":case"text":case"textarea":typeof h!="undefined"&&(c.value=h);break;case"radio":for(var v,m=null,g=c.values.length,y=0;y<g;y++){v=c.values[y];if(typeof h!="undefined"&&v.value==h){v.checked=!0,m=y;break}}if(typeof m=="number")for(y=0;y<g;y++)v=c.values[y],y!=m&&delete v.checked;break;case"select":for(var v,m=null,g=c.values.length,y=0;y<g;y++){v=c.values[y];if(typeof h!="undefined"&&v.value==h){v.selected=!0,m=y;break}}if(typeof m=="number")for(y=0;y<g;y++)v=c.values[y],y!=m&&delete v.selected;break;case"checkbox":if(h&&h instanceof Array)for(var v,g=c.values.length,y=0;y<g;y++)v=c.values[y],h.indexOf(v.value)>=0&&(v.checked=!0)}}}}}}function Qt(e){e=JSON.parse(JSON.stringify(e));for(var t in e){t=e[t];for(var n,r=t.length,i=0;i<r;i++){n=t[i];for(var s,o,u,a=n.length,f=0;f<a;f++)s=n[f],s.s=s.slots,delete s.slots,s.c=s.component,delete s.component,s.c&&(o=s.c,o.s=o.shortcode,o.o=Jt(o.options,o.shortcode),o.title!=o.generator&&(o.t=o.title),delete o.callback,delete o.description,delete o.generator,delete o.options,delete o.requires,delete o.shortcode,delete o.title,delete o.limit)}}return e}function Yt(t,n,r){if(Gt)return;Gt=!0,D.show();var s={},o=v.find("> li");for(var u,a,f,l=o.length,c=0;c<l;c++){a=o.eq(c),f=a.data("layout"),f=sanitizer.escape(sanitizer.unescapeEntities(f));if(a.hasClass("active"))u=A.find("> .container");else if(f in LAYOUTS)u=LAYOUTS[f];else{if(!(f in LAYOUT_DATA))throw new Error("Layout not found in LAYOUT_DATA: "+f);u=null,s[f]=LAYOUT_DATA[f]}u&&(s[f]=[],u.each(function(e,t){var n=[],r=t.__self,i=r.find("> .slot");for(var o,u,a=i.length,l=0;l<a;l++)u=i[l].__self,n.push(u.data("related"));s[f].push(n)}))}if(n){var h={};delete s[i];for(var p in s)h[p]=s[p],p==n&&(h[i]=s[p]);s=h}_.data("json").val(JSON.stringify(Qt(s))),e.post(_.attr("action"),_.serialize(),function(t){var n=t&&typeof t=="string"&&e.trim(t)==="1";n?D.hide():console.log(t),r instanceof Function&&r(n),Gt=!1}),t&&t.preventDefault()}var t=12,n=e(document),r=n;r.bind("gi:update gi:delete",function(e){Tt(!0,!0),e.preventDefault()}),window.LAYOUTS={};var i,s={},o={},u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F=!1,I=!1,q=!1,R=!1,U=!1,z=document.WP_THEME_ID+"_layout-editor_tab",W=[null,"one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen"],X={clear:'<div class="clear"></div>'},V={axis:"x",cancel:"",cursor:"auto",handle:".slot-buttons a.move",delay:100,distance:1,items:"> .slot",tolerance:"pointer",containment:".container",start:function(){q=!0,H.addClass("while-dragging")},stop:function(){q=!1,H.removeClass("while-dragging"),at(),Ct()}},$={snap:!0,cancel:"a",containment:"#workspace",helper:function(){return e(this).clone().css("opacity",.4)},start:function(){q=!0},stop:function(){q=!1;var t=this.__self||(this.__self=e(this));t.removeClass("ui-draggable")}},J={accept:".inner",greedy:!0,tolerance:"pointer",drop:function(){var e=H,t=e.data("component"),n=this.__self;n.hasClass("has-component")?ot(e,n):st(e,n,t)}},K=document.WP_I18N_COMMON;n.ready(function(){f=e("#layout-editor");if(f.data("disabled")){f.find("#theme-options").css("opacity",.1).find("*").click(function(e){e.preventDefault()}),f.prepend('<div class="updated" style="margin: 15px 0 -20px 5px; padding: 5px; width: 775px;">PHP 5.3.0 or higher is required to run the Layout Editor.</div>');return}jwerty.key("cmd+s/ctrl+s",Vt),M={container:Hogan.compile('<div class="container root" data-index="{{{index}}}"></div>'),slot:Hogan.compile('<div data-index="{{{index}}}" class="slot {{{klass}}}"></div>'),layoutTab:Hogan.compile('<li data-layout="{{{layout}}}"{{#active}} class="active"{{/active}}><a>{{{layout}}}</a> <span class="btn-icon remove"></span> <span class="btn-icon edit"></span></li>'),component:Hogan.compile('<div class="component">\n  <div class="inner">\n    <div class="info">\n      <strong class="title">{{title}}</strong>\n      <span class="desc">{{generator}}</span>\n    </div><!-- info -->\n    <div class="actions">\n      <a title="Edit Component Options" class="btn-icon edit"></a>\n      <a title="Remove Component" class="btn-icon remove"></a>\n    </div><!-- actions -->\n  </div><!-- .inner -->\n</div><!-- component -->'),componentItem:Hogan.compile('<li data-context="{{{comp_id}}}">\n  <strong class="comp-name">{{title}}</strong><br/>\n  <span class="comp-desc">{{description}}</span>\n  {{#full_width}}<span class="slots">Full Width</span>\n{{/full_width}}\n  {{#special}}<span class="slots">{{{columns}}}+ Columns</span>{{/special}}\n</li>')},u=e("body"),l=f.find("#layout-canvas"),O=l.find(">.bar a.btn-icon"),A=f.find("#workspace"),c=f.find("#data-entry"),h=f.find("#component-list"),p=h.find("ul.items-selection"),d=f.find("#sections"),v=d.find("ul.sections-list"),m=d.find(".actions ul.buttons"),L=l.find("> .bar .split-action"),D=f.find("#ajaxload"),_=f.find("form#layout-save"),_.data("json",_.find("input:hidden[name=data_json]")),g=e('<div class="slot-buttons">\n<a title="Remove Slot" class="btn-icon remove"></a> \n<a title="Add Component" class="btn-icon add-comp"></a> \n<a title="Move Slot" class="btn-icon move"></a> \n<a title="Resize left" data-context="left" class="btn-icon resize-left"></a> \n<a title="Resize Right" data-context="right" class="btn-icon resize-right"></a> \n</div><!-- .slot-buttons -->'),b=g.find(".resize-left"),resizeRight=g.find(".resize-right"),E=e('<div class="edit-interface"><input type="text" value="" /> <input type="reset" class="btn btn-light cancel" value="'+K.cancel+'" /> <input type="submit" class="btn btn-primary activate" value="'+K.rename+'" /></div><!-- .edit-interface -->'),S=e('<div class="split-interface clearfix"><p><a data-incr="-1" class="btn-icon left"></a> <a class="btn btn-primary split-horizontal"></a> <a data-incr="1" class="btn-icon right"></a></p><p class="vert-split"><a data-columns="3" class="btn btn-primary split-preset">'+K.threeColumns+'</a></p><p class="vert-split"><a class="btn btn-primary split-vertical">'+K.splitVertically+'</a></p><div class="clear"></div></div><!-- .split-interface -->'),x=S.find(".split-horizontal"),T=S.find(".split-preset"),N=S.find(".split-vertical"),C=S.find(".left"),k=S.find(".right"),P=G()||wpCookies.get(z),P in LAYOUT_DATA||(P=null),Et(),Q(),Nt(),bt(),wt(),a=new ComponentForm(c),v.find("> li").length>0&&L.show(),r.trigger("layout_editor:ready",{success:!0})});var $t={},Gt=!1})(jQuery);