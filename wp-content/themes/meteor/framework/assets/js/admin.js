(function(e){function a(){var t=e("table.wp-list-table");document.WP_VERSION<"3.6"&&(t.find("tr.format-aside a.row-title").prepend('<i class="icon-file-text-alt"></i>&nbsp; '),t.find("tr.format-gallery a.row-title").prepend('<i class="icon-picture"></i>&nbsp; '),t.find("tr.format-link a.row-title").prepend('<i class="icon-link"></i>&nbsp; '),t.find("tr.format-image a.row-title").prepend('<i class="icon-camera-retro"></i>&nbsp; '),t.find("tr.format-quote a.row-title").prepend('<i class="icon-quote-left"></i>&nbsp; '),t.find("tr.format-status a.row-title").prepend('<i class="icon-user"></i>&nbsp; '),t.find("tr.format-video a.row-title").prepend('<i class="icon-film"></i>&nbsp; '),t.find("tr.format-audio a.row-title").prepend('<i class="icon-music"></i>&nbsp; '),t.find("tr.format-chat a.row-title").prepend('<i class="icon-comments-alt"></i>&nbsp; '))}function f(){var t=window.send_to_editor;e(".metabox-entry input[type=text].upload-input").each(function(n,r){var i=e(r),s=i.parents(".metabox-entry"),o=e("<p></p>"),u=function(n){var r=e(n).attr("href");i.val(r).trigger("change"),window.send_to_editor=t,tb_remove(),a.hide(),f.show()},a=e('<a class="add-upload-link">'+s.data("upload-label")+"</a>").appendTo(o).click(function(e){window.send_to_editor=u,tb_show("","media-upload.php?label=chooseThisImage&amp;type=image&amp;TB_iframe=true"),e.preventDefault()}),f=e('<a class="remove-upload-link">'+s.data("remove-label")+"</a>").appendTo(o).click(function(e){i.val("").trigger("change"),a.show(),f.hide(),e.preventDefault()});e.trim(i.val())?a.hide():f.hide(),i.after(o)})}function l(){var t={visual:e("#content-tmce.wp-switch-editor.switch-tmce"),html:e("#content-html.wp-switch-editor.switch-html")},n={link:function(){i.hide()},aside:function(){i.hide()},quote:function(){i.hide()},standard:function(){i.show()},image:function(){i.show()},gallery:function(){i.show()},audio:function(){i.show()},video:function(){i.hide()},chat:function(){i.hide()}},r=e("#post-metabox"),i=e("#postimagediv"),s=e('#post-metabox div[data-metabox-active="true"]'),o=e("#post-formats-select input:radio");o.click(function(){var t=this.__self||(this.__self=e(this)),i=t.attr("id").replace("post-format-","");i=="0"&&(i="standard"),s.data("format")!==i&&(s.hide(),s=e('#post-metabox div[data-format="'+i+'"]').show(),s.length?(r.show(),s.show()):r.hide(),n[i]instanceof Function&&n[i].call(this))});if(s.length){var u=s.data("format");n[u]instanceof Function&&n[u].call(this)}else r.hide()}function c(){var n,r,i=e("body"),s=e('<div class="chooser-icon-list">\n  <input id="chooser-search" type="text" name="" placeholder="Search Iconsâ€¦" />\n  <span class="close"><i class="icon-remove-sign"></i></span>\n</div>'),o=s.find("span.close"),u=s.find("input#chooser-search"),a=function(e){e.keyCode==27&&o.trigger("click")},f=function(e){n=e,s.appendTo(i),u.trigger("focus"),i.css("overflow","hidden").bind("keyup",a)};s.click(function(e){e.target.nodeName=="DIV"&&o.trigger("click")}),o.click(function(e){return n=null,s.detach().removeClass("preview"),u.blur().val("").trigger("keyup"),i.css("overflow","auto").unbind("keyup",a),e.preventDefault()}),t.delegate(".icon-chooser-preview","click",function(e){return s.addClass("preview"),f(null),e.preventDefault()}),e.getJSON(document.WP_THEME_URI+"/framework/lib/fontawesome.json.txt",function(t){var r=t.fontawesome,i=['<ul class="clearfix">'];for(var a,f=r.length,l=0;l<f;l++)a=r[l].replace("icon-",""),i.push('<li data-keyword="'+a+'" data-icon="icon-'+a+'"><i class="icon-'+a+'"></i><span>'+a+"</span></li>");i.push("</ul>");var c=e(i.join("\n"));s.append(c),s.find("ul > li").click(function(t){if(s.hasClass("preview"))return t.preventDefault();var r=e(this).data("icon");n&&(n.data("preview").addClass("visible").html('<i class="'+r+'"></i>'),n.val(r),n.data("remove").show()),o.trigger("click")});var h=c.find("li");f=h.length;var p=/[ ]+/g,d=function(e){e=e.toLowerCase().replace(p,"-");if(e.length===0)h.show();else for(var t=0,n;t<f;t++)n=h.eq(t),n.data("keyword").indexOf(e)>=0?n.show():n.hide()};u.keyup(function(t){d(e.trim(u.val()))})}),e.fn.iconChooser=function(){return this.each(function(t,n){var r=e(n);if(r.data("initialized"))return;var i=r.find("input:hidden"),s=r.find("span.preview-icon"),o=i.val(),u=i.attr("name"),a=e('<a class="button">Choose Icon</a>'),l=e('<a class="button" style="margin-left: 1em;">Remove</a>');i.data("preview",s),i.data("remove",l),l.click(function(e){return s.removeClass("visible").html(""),l.hide(),i.val(""),e.preventDefault()}),o||l.hide(),i.before(a),a.after(l),a.click(function(e){return f(i),e.preventDefault()})})},e(".ui-icon-chooser").iconChooser()}function h(){if(document.TF_DATA)try{r=JSON.parse(e.base64.decode(document.TF_DATA)),r&&r.tf_username&&r.tf_purchase_code&&(s="http://themeforest.net/user/"+e.trim(r.tf_username)+"/download_purchase/"+e.trim(r.tf_purchase_code))}catch(t){}}function p(){if(document.WP_UPDATE_SERVER&&o>0){var t,r,a=e("#menu-dashboard, #menu-settings").hasClass("wp-menu-open")||e("#wpbody h3.available-themes").length==1;if(a||i.length){r=wpCookies.getHash(u);if(r)r.version&&r.version>document.WP_THEME_VERSION&&(i.length?i.find("#top-bar ul.links").append('<li><a target="_blank" href="'+(s||r.url)+'"><i class="'+(s?"icon-save":"icon-external-link")+'"></i>&nbsp; '+n.versionAvailable.replace(/%s/g,r.version)+"</a></li>"):d(r));else if(!r){var f="http://"+document.WP_UPDATE_SERVER+"/item/"+document.WP_THEME_ID+".json?callback=?";e.getJSON(f,function(e){wpCookies.setHash(u,e,o,userSettings.url)})}}}}function d(t){var r='<div id="message" class="updated" style="margin: 1em 1em 0 0">\n<p><strong>'+t.name+"</strong> "+t.version+" "+n.isAvailable+'. &nbsp; <a target="blank" href="'+(s||t.url)+'"><i class="'+(s?"icon-save":"icon-external-link")+'"></i>&nbsp; '+n.getItNow+'</a>\n &nbsp; &ndash; &nbsp; <a target="_blank" href="http://support.der-design.com/discussion/119/"><i class="icon-info-sign"></i>&nbsp; '+n.updateInstructions+"</a>\n</p>\n</div><!-- message -->";e("#wpwrap #wpbody-content").prepend(r)}function v(){var t=e("#customize-current-theme-link");if(t.length==1){var r=t.parent().find("> ul");r.append('<li><a href="admin.php?page=theme-options">'+n.themeOptions+"</a></li>"),r.append('<li><a href="admin.php?page=layout-editor">'+n.layoutEditor+"</a></li>"),r.append('<li><a href="admin.php?page=color-editor">Color Editor</a></li>'),r.append('<li><a target="_blank" href="http://docs.der-design.com/'+document.WP_THEME_ID+'">'+n.documentation+"</a></li>"),r.append('<li><a target="_blank" href="http://support.der-design.com">'+n.supportForums+"</a></li>")}}function m(){e("a[rel^=lightbox]").prettyPhoto({social_tools:null,theme:"pp_default",opacity:.5,slideshow:4e3,overlay_gallery:!1})}var t=e(document),n=document.WP_I18N_COMMON,r,i,s,o=0,u=document.WP_THEME_ID+"_update_data";switch(document.WP_UPDATE_CHECK_INTERVAL){case"hourly":o=3600;break;case"daily":o=86400;break;case"weekly":o=604800;break;case"monthly":o=2678400;break;case"yearly":o=31536e3;break;case"never":o=0;break;default:o=0}wpCookies.set=function(e,t,n,r,i,s){var o=new Date;typeof n=="object"&&n.toGMTString?n=n.toGMTString():parseInt(n,10)?(o.setTime(o.getTime()+parseInt(n,10)*1e3),n=o.toGMTString()):n="",document.cookie=e+"="+encodeURIComponent(t)+(n?"; expires="+n:"")+(r?"; path="+r:"")+(i?"; domain="+i:"")+(s?"; secure":"")},t.ready(function(){i=e("#theme-options"),h(),p(),v(),m(),c(),l(),f(),a()})})(jQuery);